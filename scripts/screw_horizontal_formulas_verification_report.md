# 丝杠水平运动选型计算公式验证报告

## 验证日期
2024年验证

## 验证方法
通过编写测试脚本，对每个公式进行数值验证，与理论计算结果对比。

## 验证结果总结

✅ **所有7个公式验证通过**

---

## 详细验证结果

### 1. 速度曲线 - 加速时间计算

**公式**: `t₀ = t × A`

**验证结果**: ✅ 正确

**说明**:
- t: 定位时间 (s)
- A: 加减速时间比 (0-1)
- t₀: 加速时间 (s)

**测试用例**:
- t=1.0s, A=0.25 → t₀=0.25s ✓
- t=2.0s, A=0.5 → t₀=1.0s ✓
- t=0.5s, A=0.3 → t₀=0.15s ✓

---

### 2. 电机转速计算

**公式**: `N_M = V_l / P_B`

**验证结果**: ✅ 正确

**说明**:
- V_l: 速度 (m/min)
- P_B: 丝杠导程 (m)
- N_M: 电机转速 (rpm)

**单位验证**:
- (m/min) / m = 1/min = rpm ✓

**测试用例**:
- V_l=10 m/min, P_B=0.01 m → N_M=1000 rpm ✓
- V_l=5 m/min, P_B=0.005 m → N_M=1000 rpm ✓
- V_l=20 m/min, P_B=0.02 m → N_M=1000 rpm ✓

---

### 3. 负荷转矩计算

**公式1**: `F = F_A + M×G×(sin a + μ×cos a)`

**公式2**: `T_L = (F × P_B) / (2π × η)`

**验证结果**: ✅ 正确

**说明**:
- F_A: 外力 (N)
- M: 滑动部分质量 (kg)
- G: 重力加速度 (9.8 m/s²)
- a: 移动方向与水平轴夹角 (°)
- μ: 摩擦系数
- P_B: 丝杠导程 (m)
- η: 机械效率
- F: 轴向负载 (N)
- T_L: 负载转矩 (Nm)

**物理原理**:
- 轴向负载由外力、重力分量和摩擦力组成
- 负载转矩基于丝杠传动的能量转换关系

**测试用例**:
- 水平运动 (a=0°): M=10kg, μ=0.1 → F=9.8N, T_L=0.0173Nm ✓
- 垂直向上 (a=90°): M=10kg, μ=0.1 → F=98N, T_L=0.1733Nm ✓

---

### 4. 加速转矩计算

**公式1**: `J_L1 = M × (P_B/(2π))²`

**公式2**: `J_B = (π/32) × ρ × L_B × D_B⁴`

**公式3**: `J_C = M_C × D_C² / 8`

**公式4**: `J_L = J_L1 + J_B + J_C`

**公式5**: `T_S = (2π × N_M × (J_M + J_L)) / (60 × t₀)`

**验证结果**: ✅ 正确

**说明**:
- J_L1: 直线运动平台惯量 (kg·m²)
- J_B: 滚珠丝杠惯量 (kg·m²)
- J_C: 连轴器惯量 (kg·m²)
- J_L: 总负荷惯量 (kg·m²)
- J_M: 电机惯量 (kg·m²)
- T_S: 启动转矩 (Nm)
- ρ: 丝杠密度 (7900 kg/m³)

**物理原理**:
- 直线运动质量等效为旋转惯量
- 实心圆柱体绕中心轴的转动惯量
- 薄圆盘绕中心轴的转动惯量
- 角加速度与转矩的关系: T = J × α

**测试用例**:
- M=10kg, P_B=0.01m → J_L1=0.00002533 kg·m² ✓
- L_B=0.5m, D_B=0.02m → J_B=0.00006205 kg·m² ✓
- M_C=0.5kg, D_C=0.05m → J_C=0.00015625 kg·m² ✓
- J_L=0.00024363 kg·m², N_M=1000rpm, t₀=0.25s → T_S=0.5628Nm ✓

---

### 5. 必须转矩计算

**公式**: `T_M = (T_L + T_S) × S`

**验证结果**: ✅ 正确

**说明**:
- T_L: 负载转矩 (Nm)
- T_S: 启动转矩 (Nm)
- S: 安全系数
- T_M: 必须转矩 (Nm)

**物理原理**:
- 基于转矩叠加原理
- 安全系数用于考虑计算误差和负载波动

**测试用例**:
- T_L=0.0263Nm, T_S=0.6591Nm, S=1 → T_M=0.6854Nm ✓
- T_L=0.1Nm, T_S=0.5Nm, S=1.5 → T_M=0.9Nm ✓
- T_L=0.05Nm, T_S=0.2Nm, S=2 → T_M=0.5Nm ✓

---

### 6. 负荷与电机惯量比计算

**公式**: `I_1 = J_L / J_M`

**验证结果**: ✅ 正确

**说明**:
- J_L: 总负荷惯量 (kg·m²)
- J_M: 电机惯量 (kg·m²)
- I_1: 惯量比

**物理原理**:
- 基于伺服系统惯量匹配理论
- 通常建议 I_1 ≤ 5

**测试用例**:
- J_L=0.001889 kg·m², J_M=0.0011 kg·m² → I_1=1.72 ✓
- J_L=0.005 kg·m², J_M=0.001 kg·m² → I_1=5.0 ✓
- J_L=0.01 kg·m², J_M=0.002 kg·m² → I_1=5.0 ✓

---

### 7. 负荷与减速机惯量比计算

**公式**: `I_2 = J_L / (J_M × i²)`

**验证结果**: ✅ 正确

**说明**:
- J_L: 总负荷惯量 (kg·m²)
- J_M: 电机惯量 (kg·m²)
- i: 减速机减速比
- I_2: 折算后的惯量比

**物理原理**:
- 基于减速机对惯量的折算原理
- 负载惯量按 i² 的比例折算到电机轴

**测试用例**:
- J_L=0.001889 kg·m², J_M=0.0011 kg·m², i=4 → I_2=0.11 ✓
- J_L=0.01 kg·m², J_M=0.001 kg·m², i=5 → I_2=0.4 ✓
- J_L=0.005 kg·m², J_M=0.002 kg·m², i=2 → I_2=0.62 ✓

---

## 结论

所有公式均经过数值验证，与理论计算结果完全一致。公式实现正确，可以安全使用。

## 注意事项

1. **单位一致性**: 所有计算中单位已正确转换
2. **角度转换**: 角度从度转换为弧度时使用 `math.radians()`
3. **常数使用**: 
   - 重力加速度 G = 9.8 m/s²
   - 圆周率 π = math.pi
   - 丝杠密度 ρ = 7900 kg/m³
4. **边界条件**: 所有输入参数验证已实现，防止除零错误和无效输入

---

**验证完成日期**: 2024年
**验证工具**: Python 测试脚本
**验证状态**: ✅ 全部通过

